<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>TEST PAYMENT</title>
    <meta name="description" content="The HTML5 Herald" />
    <meta name="author" content="SitePoint" />

    <link rel="stylesheet" href="css/styles.css?v=1.0" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
  </head>

  <body>
    <div
      class="card col-xs col-sm col-md-10 mb-3 p-8 w-50"
      style="border: none"
    >
      <h5 class="card-header text-center">Payments</h5>
      <form action="https://sandbox.payfast.co.zaâ€‹/eng/process" method="post">
        <input type="hidden" name="merchant_id" value="10000100">
        <input type="hidden" name="merchant_key" value="46f0cd694581a" />
        <input
          type="hidden"
          name="return_url"
          value="https://www.example.com/success"
        />
        <input
          type="hidden"
          name="cancel_url"
          value="https://www.example.com/cancel"
        />
        <input type="hidden" name="amount" value="100.00" />
        <input type="hidden" name="item_name" value="Test Product" />
        <input type="submit" />
      </form>
    </div>

    <script>
      function getSum() {
        const generateMD5 = (obj, secret = "secret") => {
          let str = "";
          for (let val in obj) {
            str += obj[val];
          }
          str += secret;
          return CryptoJS.MD5(str).toString();
        };

        console.log("MD5", generateMD5);

        let data = {
          PAYGATE_ID: "10011072130",
          REFERENCE: "pgtest_123456789",
          AMOUNT: "3299",
          CURRENCY: "ZAR",
          RETURN_URL: "http://localhost:8080/",
          TRANSACTION_DATE: "2018-01-01 12:00:00",
          //LOCALE: this.input.LOCALE,
          //COUNTRY: this.input.COUNTRY,
          EMAIL: "customer@paygate.co.za",
        };

        let CHECKSUM = generateMD5(data);
        console.log("Sum:", CHECKSUM);
        return CHECKSUM;
      }
    </script>
  </body>
</html>
