(function(t){function e(e){for(var n,i,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},s=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},"1c65":function(t,e,r){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"49f0":function(t,e,r){"use strict";r("fa34")},5:function(t,e){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header"),r("router-view"),r("Footer")],1)},s=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("NavigationBar")},o=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-navbar",{staticClass:"text-secondary fixed",attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{href:"#"}},[r("router-link",{staticClass:"text-light",attrs:{to:"/"}},[r("em",[t._v("LOGO")])])],1),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav"),1!=t.userLoggedIn?r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/"}},[t._v("Home")])],1),r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/products"}},[t._v("Products")])],1),r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/about"}},[t._v("About Us")])],1),r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/contact"}},[t._v("Contact")])],1),r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/register"}},[t._v("Sign up")])],1),r("b-nav-item",[r("router-link",{staticClass:"text-light glyphicon glyphicon-user",attrs:{to:"/login"}},[t._v("Login")])],1),r("b-button",{staticClass:"my-2 my-md-0",attrs:{size:"sm",variant:"light"},on:{click:t.navigateToCart}},[t._v(" My cart "),r("svg",{staticClass:"bi bi-cart3",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})]),r("sup",[r("span",{staticClass:"badge badge-info"},[t._v(t._s(t.cartProductList.length))])])])],1):r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/"}},[t._v("Home")])],1),r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/products"}},[t._v("Products")])],1),r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/about"}},[t._v("About Us")])],1),r("b-nav-item",[r("router-link",{staticClass:"text-light",attrs:{to:"/contact"}},[t._v("Contact")])],1),r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("em",[r("b-icon",{attrs:{icon:"person-fill"}}),t._v(t._s(t.getUser.name))],1)]},proxy:!0}])},[r("b-dropdown-item",{attrs:{to:"/userProfile"}},[t._v("Profile ")]),r("b-dropdown-item",{attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])],1),r("b-button",{staticClass:"my-2 my-md-0 shadow-none",attrs:{size:"sm",variant:"light"},on:{click:t.navigateToCart}},[t._v(" My cart "),r("svg",{staticClass:"bi bi-cart3",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})]),r("sup",[r("span",{staticClass:"badge badge-info"},[t._v(t._s(t.numberOfProducts.length))])])])],1)],1)],1)},u=[],l=(r("96cf"),r("1da1")),d=r("260b"),p=(r("ea7b"),r("3d20")),m=r.n(p),f=m.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",m.a.stopTimer),t.addEventListener("mouseleave",m.a.resumeTimer)}}),g={computed:{getUser:function(){return this.$store.getters.getUser},userLoggedIn:function(){return this.$store.getters.isLoggedIn},numberOfProducts:function(){return this.$store.getters.productsInCart}},methods:{navigateToCart:function(){this.userLoggedIn,this.$router.push("/cart").catch((function(t){return t}))},logout:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("logUserOut"),e.prev=1,e.next=4,d["a"].auth().signOut();case 4:f.fire({icon:"success",title:"Logged out"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),t.$swal({icon:"warning",title:e.t0.message,showConfirmButton:!0});case 10:t.$router.push("/").catch((function(t){return t}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}},v=g,h=(r("74b6"),r("2877")),b=Object(h["a"])(v,c,u,!1,null,"049ac8dc",null),w=b.exports,x={components:{NavigationBar:w}},C=x,_=Object(h["a"])(C,i,o,!1,null,null,null),y=_.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row row-cols-xs row-cols-md-2 row-cols-lg-2"},[r("div",{staticClass:"col-xs col-md col-lg justify-content-center"},[r("ul",{staticStyle:{"list-style-type":"none"}},[r("li",{staticClass:"text-light font-weight-bold pb-2"},[t._v("Get the App")]),r("li",[r("a",{staticClass:"footer-link font-weight-light",attrs:{href:"#"}},[t._v("Android App")]),r("br")]),r("li",[r("a",{staticClass:"footer-link font-weight-light",attrs:{href:"#"}},[t._v("iOS App")]),r("br")])])]),r("div",{staticClass:"col-xs col-md col-lg justify-content-center"},[r("ul",{staticStyle:{"list-style-type":"none"}},[r("li",{staticClass:"text-light font-weight-bold"},[t._v("Connect With Us")]),r("li",[r("a",{staticClass:"footer-link font-weight-light",attrs:{href:"#"}},[t._v("Facebook")])]),r("li",[r("a",{staticClass:"footer-link font-weight-light",attrs:{href:"#"}},[t._v("Twitter")]),r("br")]),r("li",[r("a",{staticClass:"footer-link font-weight-light",attrs:{href:"#"}},[t._v("Instagram")]),r("br")])])])])])])}],O=(r("98a8"),{}),R=Object(h["a"])(O,P,k,!1,null,"3e665f3c",null),j=R.exports,L={name:"App",components:{Header:y,Footer:j}},$=L,S=(r("034f"),Object(h["a"])($,a,s,!1,null,null,null)),E=S.exports,I=r("1e18"),T=r("5886"),U=(r("4413"),r("8c4f")),N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex justify-content-center p-2"},[r("div",{staticClass:"d-block-flex col-2"},[r("details",{ref:"category",staticClass:"bg-light text-dark mt-5"},[r("summary",[t._v("Categories")]),r("hr"),r("nav",[r("b-nav",{attrs:{vertical:""}},t._l(t.categories,(function(e,n){return r("b-nav-item",{key:n,staticClass:"text-body",staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e))])})),1)],1)])]),r("div",{staticClass:"col-10 justify-content-center"},[r("div",{staticClass:"d-flex flex-row no-gutters"},[r("form",{staticClass:"form-inline col-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"form-control mr-sm",attrs:{type:"search",placeholder:"Search Keyword ","aria-label":"Search"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),r("button",{staticClass:"btn btn-light my-sm-0 shadow-none",attrs:{type:"submit"},on:{click:function(e){return t.processOperation()}}},[r("b-icon",{attrs:{icon:"search","aria-label":"Help"}},[t._v("Search")])],1)]),r("div",{staticClass:"input-group col-xs col-md-3 col-3 ml-auto"},[r("div",{staticClass:"input-group"},[r("select",{ref:"inputGroupSelect",staticClass:"custom-select shadow-none",on:{change:function(e){return t.processOperation()}}},[r("option",{attrs:{selected:""}},[t._v("Sort By...")]),r("option",{attrs:{value:"1"}},[t._v("Price: low to high")]),r("option",{attrs:{value:"2"}},[t._v("Price: high to low")])])])])]),r("div",[r("div",{staticClass:"row row-cols-md-4 row-cols-lg-4"},t._l(t.getDbProducts,(function(e,n){return r("div",{key:n,staticClass:"col-xs col-sm col-md col mb-4",attrs:{id:"my-products",items:t.getDbProducts,"per-page":t.perPage,"current-page":t.currentPage}},[r("ProductDetail",{attrs:{product:e}})],1)})),0),r("ul",{staticClass:"pagination justify-content-center"},[r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link shadow-none",attrs:{href:"#",tabindex:"-1","aria-disabled":"true"},on:{click:function(e){return t.previousPage()}}},[t._v("Previous")])]),r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link shadow-none",attrs:{href:"#"},on:{click:function(e){return t.processOperation()}}},[t._v("Next")])])])])])])},A=[],z=(r("4de4"),r("4160"),r("c975"),r("fb6a"),r("159b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card h-100 shadow-sm"},[r("div",{staticClass:"card-img-thumbnail img-responsive"},[r("img",{attrs:{src:t.product.image,alt:"..."}})]),r("div",{staticClass:"card-body"},[r("h6",{staticClass:"card-title"},[t._v(" "+t._s(t.product.title)+" ")])]),r("ul",{staticClass:"list-group list-group-flush"},[r("li",{staticClass:"list-group-item text-center"},[r("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover",value:t.product.description,expression:"product.description",modifiers:{hover:!0}}],attrs:{variant:"bg-transparent text-dark shadow-none",title:"Description"}},[t._v("See Description")])],1),r("li",{staticClass:"list-group-item text-left"},[r("strong",[t._v("R"+t._s(t.product.price))]),r("b-button",{staticClass:"my-2 my-md-0 shadow-none",staticStyle:{float:"right"},attrs:{size:"sm",variant:"info"},on:{click:t.addToCart}},[t._v(" Add to cart "),r("svg",{staticClass:"bi bi-cart3",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})])])],1)])])}),B=[],H=m.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:700,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",m.a.stopTimer),t.addEventListener("mouseleave",m.a.resumeTimer)}}),Z={name:"ProductDetail",data:function(){return{show:!1}},props:{product:Object},computed:{userLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{addToCart:function(){this.$store.commit("addToCart",this.product),H.fire({icon:"success",title:"Product added to cart"})}}},M=Z,D=(r("49f0"),Object(h["a"])(M,z,B,!1,null,"2679297d",null)),F=D.exports,q=(r("e71f"),r("5530")),W=r("2f62"),Q=(r("7db0"),{state:function(){return{productsStore:[]}},mutations:{setProductsList:function(t,e){var r=t.productsStore.find((function(t){return t.id===e.id}));r||t.productsStore.push(e)}},getters:{allProducts:function(t){return t.productsStore}}}),G=(r("13d5"),r("a434"),{state:function(){return{products:[]}},getters:{productsInCart:function(t){return t.products},totalQuantityOfProducts:function(t){var e=t.products.reduce((function(t,e){return t+e.quantity}),0);return e},subtotal:function(t){var e=t.products.reduce((function(t,e){return t+e.price*e.quantity}),0);return e},total:function(t){var e=t.products.reduce((function(t,e){return t+e.price*e.quantity}),0),r=e+14*e/100;return r}},mutations:{cartProductsList:function(t,e){for(var r=0;r<e.length;r++)t.products.push(e[r])},clearCart:function(t){var e=[];t.products=e,ct()},addToCart:function(t,e){var r=t.products.find((function(t){return t.id===e.id}));r?r.quantity+=1:(e.quantity=1,t.products.push(e)),ot()},incrementProductQuantity:function(t,e){var r=t.products.find((function(t){return t.id===e.id}));r&&(r.quantity+=1),ot()},removeFromCart:function(t,e){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t.products.find((function(t){return t.id===e.id})),n&&t.products.splice(t.products.indexOf(n),1),ot();case 3:case"end":return r.stop()}}),r)})))()},decrementProductQuantity:function(t,e){var r=t.products.find((function(t){return t.id===e.id}));r&&r.quantity>1&&(r.quantity=r.quantity-1),ot()}}}),V={state:function(){return{orderN:[]}},getters:{getOrders:function(t){return t.orderN}},mutations:{setProductsPerOrder:function(t,e){t.orderN.push(e),ut(e)},emptyOrders:function(t){var e=[];t.orderN=e,pt()}}},J={state:{user:null},getters:{getUser:function(t){return t.user},isLoggedIn:function(t){return null!=t.user}},mutations:{setUser:function(t,e){t.user=e},logUserOut:function(t){t.user=null}}},K=r("0e44"),X=r("3317"),Y=r("0ff2");n["default"].use(Y["a"]),n["default"].use(W["a"]);var tt=new W["a"].Store({mutations:Object(q["a"])({},X["a"]),modules:{products:Q,cart:G,authentication:J,orders:V},plugins:[Object(K["a"])()]}),et={apiKey:"AIzaSyAfvaitXPRffCORs2xS2Km_bB8aJta1ML8",authDomain:"my-store-46d7f.firebaseapp.com",projectId:"my-store-46d7f",storageBucket:"my-store-46d7f.appspot.com",databaseURL:"https://my-store-46d7f-default-rtdb.firebaseio.com/",messagingSenderId:"905723884752",appId:"1:905723884752:web:572a0ff9828b7be9cd1ad5",measurementId:"G-4R2BGE8S20"},rt=d["a"].initializeApp(et).firestore(),nt=d["a"].firestore;nt.TimeStamp,nt.GeoPoint;rt.settings({timestampsInSnapshots:!0});var at=tt.getters.getUser,st=tt.getters.isLoggedIn,it=tt.getters.productsInCart,ot=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=st){t.next=26;break}return t.prev=1,t.next=4,rt.collection("carts");case 4:return e=t.sent,t.next=7,e.where("user","==",at.email);case 7:return e=t.sent,t.next=10,e.get();case 10:if(r=t.sent,r.empty){t.next=15;break}r.docs.forEach(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.collection("carts");case 2:e=t.sent,0==it.length?e.doc(r.id).delete():e.doc(r.id).update({products:it});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=21;break;case 15:return t.next=17,rt.collection("carts");case 17:return e=t.sent,n={user:at.email,products:it},t.next=21,e.add(n);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](1),console.log(t.t0);case 26:case"end":return t.stop()}}),t,null,[[1,23]])})));return function(){return t.apply(this,arguments)}}(),ct=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rt.collection("carts");case 3:return e=t.sent,t.next=6,e.where("user","==",at.email);case 6:return e=t.sent,t.next=9,e.get();case 9:r=t.sent,r.empty||r.docs.forEach(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.collection("carts");case 2:e=t.sent,e.doc(r.id).delete();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),ut=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=st){t.next=9;break}return console.log("Oder in DB:",e),t.next=4,rt.collection("orderZZ").doc(e.orderNumber);case 4:return r=t.sent,t.next=7,r.get();case 7:if(n=t.sent,!n.exists)try{r.set(e)}catch(a){console.log(a)}case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),lt=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=st){t.next=12;break}return e=rt.collection("orderZZ"),t.next=4,e.where("user","==",at.email);case 4:return e=t.sent,t.next=7,e.get();case 7:return r=t.sent,n=[],r.docs.forEach((function(t){var e=t.data();n.push(e)})),n=n.reverse(),t.abrupt("return",n);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),dt=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.collection("orderZZ").doc(e);case 2:return r=t.sent,t.next=5,r.get();case 5:if(n=t.sent,!n.exists){t.next=9;break}return a=n.data(),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pt=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rt.collection("orderZZ");case 3:return e=t.sent,t.next=6,e.where("user","==",at.email);case 6:return e=t.sent,t.next=9,e.get();case 9:r=t.sent,r.empty||r.docs.forEach(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.collection("orderZZ");case 2:e=t.sent,e.doc(r.id).delete();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),mt=(r("8c0d"),{components:{ProductDetail:F},name:"ProductList",data:function(){return{products:[],searchInput:"",currentPage:1,perPage:8,total:0,lastItem:null,firstItem:null,categories:[]}},computed:{getStoreProducts:function(){return this.$store.getters.allProducts},getDbProducts:function(){var t=[];return this.products.forEach((function(e){var r=e.data();t.push(r)})),t}},methods:{fetchProducts:function(t,e,r){return Object(l["a"])(regeneratorRuntime.mark((function n(){var a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=[],n.prev=1,s=rt.collection("products"),t=t.charAt(0).toUpperCase()+t.slice(1),t&&t.length>0&&(s=s.where("title",">=",t),s=s.where("title","<=",t+"")),s=s.orderBy("title","asc"),s=s.limit(e),r&&(s=s.startAfter(r)),n.next=10,s.get();case 10:i=n.sent,a=i.docs,n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](1),console.log(n.t0);case 17:return n.abrupt("return",a);case 18:case"end":return n.stop()}}),n,null,[[1,14]])})))()},processOperation:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchProducts(t.searchInput,t.perPage,t.lastItem);case 2:t.products=e.sent,t.firstItem=t.products[t.products.length-t.perPage],t.lastItem=t.products[t.products.length-1];case 5:case"end":return e.stop()}}),e)})))()},previousPage:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],e.prev=1,n=rt.collection("products"),a=t.searchInput,a=a.charAt(0).toUpperCase()+a.slice(1),a&&a.length>0&&(n=n.where("title",">=",a),n=n.where("title","<=",a+"")),n=n.orderBy("title","asc"),n=n.limitToLast(t.perPage),t.firstItem&&(n=n.endBefore(t.firstItem)),e.next=11,n.get();case 11:s=e.sent,r=s.docs,t.lastItem=r[r.length-1],t.firstItem=r[r.length-t.perPage],e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](1),console.log(e.t0);case 20:return e.abrupt("return",t.products=r);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))()},getCategory:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=rt.collection("products"),e.next=3,r.get();case 3:n=e.sent,n.docs.forEach((function(e){var r=e.data().category;t.categories.push(r)})),t.categories=t.categories.filter((function(e,r){return t.categories.indexOf(e)===r}));case 6:case"end":return e.stop()}}),e)})))()}},created:function(){this.getCategory()},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processOperation();case 1:case"end":return e.stop()}}),e)})))()}}),ft=mt,gt=Object(h["a"])(ft,N,A,!1,null,null,null),vt=gt.exports,ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex justify-content-center p-2"},[r("div",{staticClass:"col-9 justify-content-center"},[0!=t.getTotal?r("b-card",{ref:"cart",staticClass:"w-100",attrs:{"header-tag":"header"}},t._l(t.getProductsInCart,(function(t,e){return r("div",{key:e,staticClass:"col-md col-sm",staticStyle:{border:"none"}},[r("CartItem",{attrs:{product:t}})],1)})),0):t._e()],1),r("div",{staticClass:"col-md-3 col-sm p-3"},[r("div",{staticClass:"card"},[r("ul",{staticClass:"list-group list-group-flush"},[r("li",{staticClass:"list-group-item",staticStyle:{border:"none"}},[t._v(" Subtotal "),r("span",{staticClass:"badge badge-light float-right"},[t._v("R"+t._s(t.subtotal))])]),r("li",{staticClass:"list-group-item",staticStyle:{border:"none"}},[t._v(" Total (with TAX) "),r("span",{staticClass:"badge badge-light float-right"},[t._v("R"+t._s(t.getTotal))])])])]),r("div",[1==t.userLoggedIn&&0!=t.getTotal?r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPopover",modifiers:{modalPopover:!0}}],staticClass:"btn-sm btn-block mt-2 shadow-none",on:{click:function(e){return t.setOrder()}}},[t._v("Checkout")]):r("button",{staticClass:"btn btn-secondary btn-sm btn-block mt-2",attrs:{type:"submit"},on:{click:function(e){return t.checkoutProduct()}}},[t._v(" Checkout ")]),r("b-modal",{attrs:{"no-close-on-backdrop":"",size:"sm","hide-footer":"",id:"modalPopover",centered:"",title:"Confirm order"}},[r("p",[t._v(" Order number: "),r("span",{staticClass:"float-right"},[t._v(t._s(t.userOrder.orderNumber))])]),r("p",[t._v(" Number of items: "),r("span",{staticClass:"float-right"},[t._v(t._s(t.getNumberOfProducts))])]),r("p",[t._v(" Total (tax included): "),r("span",{staticClass:"float-right"},[t._v("R"+t._s(t.getTotal))])]),r("form",{ref:"payfast",attrs:{action:"https://sandbox.payfast.co.za​/eng/process",method:"post"}},[r("input",{attrs:{type:"hidden",name:"merchant_id",value:"10000100"}}),r("input",{attrs:{type:"hidden",name:"merchant_key",value:"46f0cd694581a"}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.returnUrl,expression:"returnUrl"}],attrs:{type:"hidden",name:"return_url"},domProps:{value:t.returnUrl},on:{input:function(e){e.target.composing||(t.returnUrl=e.target.value)}}}),r("input",{attrs:{type:"hidden",name:"cancel_url",value:"https://laudelam.github.io/#/cart"}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.getTotal,expression:"getTotal"}],attrs:{type:"hidden",name:"amount"},domProps:{value:t.getTotal},on:{input:function(e){e.target.composing||(t.getTotal=e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.getOrderNumber,expression:"getOrderNumber"}],attrs:{type:"hidden",name:"item_name"},domProps:{value:t.getOrderNumber},on:{input:function(e){e.target.composing||(t.getOrderNumber=e.target.value)}}}),r("button",{staticClass:"btn btn-secondary btn-sm btn-block mt-2 shadow-none",attrs:{id:"pay_button",type:"submit"}},[t._v(" Proceed to Payment ")])])])],1)])])},bt=[],wt=(r("a15b"),r("d3b7"),r("25f0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card h-100",staticStyle:{border:"none"}},[r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"image hover-overlay ripple col-md-2"},[r("img",{staticClass:"card-img-thumbnail mx-auto d-block",staticStyle:{width:"100%"},attrs:{src:t.product.image,alt:"..."}})]),r("div",{staticClass:"col-md-10"},[r("div",{staticClass:"card-body justify-content-center"},[r("h5",{staticClass:"card-title"},[t._v(t._s(t.product.title))]),r("p",{directives:[{name:"b-popover",rawName:"v-b-popover.hover",value:t.product.description,expression:"product.description",modifiers:{hover:!0}}],staticClass:"card-text text-truncate",attrs:{variant:"bg-transparent text-dark"}},[r("strong",[t._v("See Description:")]),r("br"),t._v(" "+t._s(t.product.description)+" ")]),r("div",{staticClass:"d-flex flex-row row-cols-sm-2"},[r("div",{staticClass:"col-sm-4"},[r("p",{staticClass:"card-text"},[r("strong",[t._v("R"+t._s(t.product.price))])])]),r("div",{staticClass:"d-inline-flex col-sm-9"},[r("b-button",{attrs:{variant:"dark ml-auto shadow-none",size:"sm"},on:{click:t.removeProduct}},[t._v("Remove")]),r("div",{staticClass:"col-xs col-sm-4 col-md-4 col-lg-4 col-xl-4 ml-auto"},[r("b-input-group",{attrs:{size:"sm"}},[r("b-input-group-prepend",[r("b-btn",{attrs:{variant:"dark shadow-none"},on:{click:function(e){return t.decrement()}}},[t._v("-")])],1),r("b-form-input",{staticStyle:{"text-align":"center"},attrs:{readonly:"",type:"number",variant:"text-center",min:"0.00",value:t.product.quantity}}),r("b-input-group-append",[r("b-btn",{attrs:{variant:"dark shadow-none"},on:{click:function(e){return t.increment()}}},[t._v("+")])],1)],1)],1)],1)])])])])])}),xt=[],Ct={name:"CartItem",props:{product:Object},computed:{getProducts:function(){return this.$store.getters.productsInCart}},methods:{removeProduct:function(){this.$store.commit("removeFromCart",this.product)},increment:function(){this.$store.commit("incrementProductQuantity",this.product)},decrement:function(){this.$store.commit("decrementProductQuantity",this.product)}}},_t=Ct,yt=Object(h["a"])(_t,wt,xt,!1,null,null,null),Pt=yt.exports,kt=r("3452"),Ot=r.n(kt),Rt=m.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",m.a.stopTimer),t.addEventListener("mouseleave",m.a.resumeTimer)}}),jt={components:{CartItem:Pt},data:function(){return{products:[],userOrder:{},returnUrl:""}},computed:{getProductsInCart:function(){return this.$store.getters.productsInCart},getNumberOfProducts:function(){return this.$store.getters.totalQuantityOfProducts},userLoggedIn:function(){return this.$store.getters.isLoggedIn},getUser:function(){return this.$store.getters.getUser},subtotal:function(){return this.roundToTwo(this.$store.getters.subtotal)},getTotal:function(){var t=this.roundToTwo(this.$store.getters.total);return t},getOrders:function(){return this.$store.getters.getOrders},getOrderNumber:function(){var t=null,e=Date.now().toString();return e+=e+Math.floor(10*Math.random()),t=[e.slice(0,4),e.slice(4,10)].join("-"),t}},methods:{roundToTwo:function(t){return+(Math.round(t+"e+2")+"e-2")},checkoutProduct:function(){var t=this;1!=this.userLoggedIn&&Rt.fire({icon:"info",title:"Please Login or Sign up",showConfirmButton:!0}).then((function(){t.$router.push("/login")}))},setOrder:function(){if(1==this.isLoggedIn||0!=this.getTotal){var t=this.getUser.email,e=this.getOrderNumber,r=this.getProductsInCart,n=this.getTotal,a=new Date,s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),i={orderNumber:e,user:t,productsPerOrder:r,total:n,date:s};return this.getSignature(e,n),this.$store.commit("setProductsPerOrder",i),this.returnUrl="https://laudelam.github.io/#/payment/"+this.getOrderNumber,console.log("return url",this.returnUrl),this.userOrder=i}},getSignature:function(t,e){if(1==this.isLoggedIn||0!=this.getTotal){var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"secret",r="";for(var n in t)r+=t[n];return r+=e,Ot.a.MD5(r).toString()},n={merchant_id:"10000100",merchant_key:"46f0cd694581a",return_url:"https://laudelam.github.io/#/payment",cancel_url:"https://laudelam.github.io/#/products",amount:e,item_name:t},a=r(n);return a}}}},Lt=jt,$t=(r("e72f"),Object(h["a"])(Lt,ht,bt,!1,null,"bc492c2e",null)),St=$t.exports,Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[r("p",[t._v("This is Home")]),1==t.userLoggedIn?r("p",[t._v("Welcome "+t._s(t.getUser.name))]):t._e(),r("div")])},It=[],Tt={name:"Home",computed:{getUser:function(){return this.$store.getters.getUser},getAllProducts:function(){return this.$store.getters.allProducts},userLoggedIn:function(){return this.$store.getters.isLoggedIn}}},Ut=Tt,Nt=Object(h["a"])(Ut,Et,It,!1,null,null,null),At=Nt.exports,zt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Bt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[r("p",[t._v("Here is everything you need to know about us :)")])])}],Ht={},Zt=Object(h["a"])(Ht,zt,Bt,!1,null,null,null),Mt=Zt.exports,Dt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ft=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[r("p",[t._v("Here are our contact details")])])}],qt={},Wt=Object(h["a"])(qt,Dt,Ft,!1,null,null,null),Qt=Wt.exports,Gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[r("div",{staticClass:"card mb-3 p-8 w-50",staticStyle:{border:"none"}},[r("h5",{staticClass:"card-header text-center mt-4"},[t._v("Login")]),r("form",[r("div",{staticClass:"form-group d-flex flex-column mt-2 align-items-center justify-content-center"},[r("div",{staticClass:"d-block-flex"},[r("label",{attrs:{for:"inputAddress"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input.email,expression:"input.email"}],staticClass:"form-control",attrs:{type:"text",pattern:"^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$",id:"inputEmail",placeholder:"Email",value:"input.email"},domProps:{value:t.input.email},on:{input:function(e){e.target.composing||t.$set(t.input,"email",e.target.value)}}})]),r("div",{staticClass:"d-block-flex mt-2"},[r("label",{attrs:{for:"inputAddress"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"form-control",attrs:{type:"password",pattern:"[\\dA-Za-z]{6,}",id:"inputPasswordConfirm",placeholder:"Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"d-inline-flex col-sm controls mt-2"},[r("a",{staticClass:"btn btn-success mr-4 shadow-none",attrs:{id:"btn-login",href:"#"},on:{click:t.submit}},[t._v("Login ")]),r("router-link",{staticClass:"text-link",attrs:{to:"/register"}},[t._v("Sign Up")])],1)])])])])])])},Vt=[],Jt=(r("ac1f"),r("5319"),m.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:2500,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",m.a.stopTimer),t.addEventListener("mouseleave",m.a.resumeTimer)}})),Kt={data:function(){return{input:{email:"",password:""},isAuthenticated:!1}},methods:{submit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null,!(""==t.input.email||""==t.input.password||/[^A-Za-z0-9]+/g.test(t.input.password)||t.input.password.length<6)){e.next=5;break}Jt.fire({icon:"error",title:"Oops... Check you credentials!!",showConfirmButton:!1}),e.next=9;break;case 5:return e.next=7,t.authenticate(t.input.email,t.input.password);case 7:r=e.sent,null!=r?(t.$store.commit("setUser",r),Jt.fire({icon:"success",title:"Signed in successfully",showConfirmButton:!1}),t.$router.replace({name:"Home"})):Jt.fire({icon:"error",title:"Couldn't authenticate <br> Please check your email or password :)"});case 9:case"end":return e.stop()}}),e)})))()},authenticate:function(t,e){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].auth().signInWithEmailAndPassword(t,e);case 3:return n=r.sent,a=n.user,a&&(a={name:a.displayName,email:a.email,emailVerified:a.emailVerified,uid:a.uid}),r.abrupt("return",a);case 9:return r.prev=9,r.t0=r["catch"](0),console.log(r.t0.message),r.abrupt("return",null);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}},Xt=Kt,Yt=Object(h["a"])(Xt,Gt,Vt,!1,null,null,null),te=Yt.exports,ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[r("div",{staticClass:"card mb-3 p-4 w-50",staticStyle:{border:"none"}},[r("h5",{staticClass:"card-header text-center"},[t._v("Sign up")]),r("form",[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{staticClass:"text-capitalize",attrs:{for:"inputFirstname"}},[t._v("Firstname")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input.firstname,expression:"input.firstname"}],staticClass:"form-control",staticStyle:{"text-transform":"capitalize"},attrs:{type:"firstname",id:"inputFirstname",placeholder:"Firstname"},domProps:{value:t.input.firstname},on:{input:function(e){e.target.composing||t.$set(t.input,"firstname",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-6"},[r("label",{staticClass:"text-capitalize",attrs:{for:"inputLastname"}},[t._v("Lastname")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input.lastname,expression:"input.lastname"}],staticClass:"form-control text-capitalize",attrs:{type:"lastname",pattern:"[^\\d]+",id:"inputLastname",placeholder:"Lastname"},domProps:{value:t.input.lastname},on:{input:function(e){e.target.composing||t.$set(t.input,"lastname",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"inputEmail"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input.email,expression:"input.email"}],staticClass:"form-control",attrs:{type:"email",pattern:"^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$",id:"inputEmail",placeholder:"Email address"},domProps:{value:t.input.email},on:{input:function(e){e.target.composing||t.$set(t.input,"email",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"inputPassword"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"form-control text-capitalize",attrs:{type:"password",id:"inputPassword",placeholder:"Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}})])]),r("div",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-success shadow-none",attrs:{id:"btn-signup",type:"button"},on:{click:t.submit}},[t._v(" Sign Up ")])])])])])},re=[],ne=m.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",m.a.stopTimer),t.addEventListener("mouseleave",m.a.resumeTimer)}}),ae={data:function(){return{input:{firstname:"",lastname:"",email:"",password:""}}},methods:{submit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(""==t.input.firstname||/[0-9]+/g.test(t.input.firstname)||""==t.input.lastname||/[0-9]+/g.test(t.input.lastname)||""==t.input.email||""==t.input.password||/[^A-Za-z0-9]+/g.test(t.input.password)||t.input.password.length<6)){e.next=4;break}ne.fire({icon:"warning",title:"Please fill in the missing detail(s) or check for the red signals"}),e.next=8;break;case 4:return e.next=6,t.registerUser(t.input.firstname,t.input.lastname,t.input.email,t.input.password);case 6:r=e.sent,r?(console.log(r),ne.fire({icon:"success",title:"Welcome "+r.firstname+" "+r.lastname}),t.$router.push("/login")):ne.fire({icon:"warning",title:"Registration unsuccessful. <br> This email adrress is used by another account "});case 8:case"end":return e.stop()}}),e)})))()},registerUser:function(t,e,r,n){return Object(l["a"])(regeneratorRuntime.mark((function a(){var s,i,o,c,u,l,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("start checking"),s=rt.collection("users").doc(r),a.next=4,s.get();case 4:if(i=a.sent,o=i.data(),!o){a.next=8;break}return a.abrupt("return",null);case 8:return a.next=10,d["a"].auth().createUserWithEmailAndPassword(r,n);case 10:return c=a.sent,c.user.updateProfile({displayName:t+" "+e}),a.next=14,rt.collection("users").doc(r);case 14:return u=a.sent,a.next=17,u.set({firstname:t,lastname:e,email:r});case 17:return i=a.sent,l=rt.collection("users").doc(r),a.next=21,l.get();case 21:if(i=a.sent,!i.exists){a.next=25;break}return p=i.data(),a.abrupt("return",p);case 25:case"end":return a.stop()}}),a)})))()}}},se=ae,ie=Object(h["a"])(se,ee,re,!1,null,null,null),oe=ie.exports,ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{staticClass:"d-block-flex",attrs:{cols:"3"}},[r("b-col",{staticClass:"align-items-center mb-4"},[r("b-img",{attrs:{center:"",src:"https://icons-for-free.com/iconfiles/png/512/avatar+human+man+profile+icon-1320085876716628234.png","fluid-grow":"",alt:"Responsive image"}})],1),r("br"),r("nav",{staticClass:"mb-3"},[r("b-nav",{attrs:{vertical:""}},[r("b-nav-item",{attrs:{to:"/userProfile"}},[t._v("Profile Details")]),r("b-nav-item",{attrs:{to:"/ordersRecord"}},[t._v("Orders")])],1)],1)],1),r("b-col",{attrs:{cols:"9"}},[r("b-card",{ref:"details",staticClass:"text-center w-100",attrs:{header:"USER INFORMATION","header-tag":"header"}},[r("b-form",[r("b-form-row",[r("b-form-group",{staticClass:"col-xs col-md-6",attrs:{id:"input-group-1",label:"Firstname:","label-for":"inputFirstname"}},[r("b-form-input",{staticClass:"form-control text-capitalize",attrs:{id:"inputFirstname",pattern:"[^\\d]+",value:"getFirstname",required:""},model:{value:t.input.firstname,callback:function(e){t.$set(t.input,"firstname",e)},expression:"input.firstname"}})],1),r("b-form-group",{staticClass:"col-xs col-md-6",attrs:{id:"input-group-2",label:"Lastname:","label-for":"inputLastname"}},[r("b-form-input",{staticClass:"form-control text-capitalize",attrs:{id:"inputLastname",pattern:"[^\\d]+",value:"getLastname",required:""},model:{value:t.input.lastname,callback:function(e){t.$set(t.input,"lastname",e)},expression:"input.lastname"}})],1),r("b-form-group",{staticClass:"col-xs col-md-6",attrs:{id:"input-group-3",label:"Residential Address:","label-for":"inputAddress"}},[r("b-form-input",{staticClass:"form-control text-capitalize",attrs:{id:"inputAddress",value:"getAddress",required:""},model:{value:t.input.address,callback:function(e){t.$set(t.input,"address",e)},expression:"input.address"}})],1),r("b-form-group",{staticClass:"col-xs col-md-6",attrs:{id:"input-group-4",label:"Email address:","label-for":"inputEmail",description:"We'll never share your email with anyone else."}},[r("b-form-input",{attrs:{id:"inputEmail",pattern:"^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$",type:"email",value:"getEmail",required:""},model:{value:t.input.email,callback:function(e){t.$set(t.input,"email",e)},expression:"input.email"}})],1)],1),r("b-button",{staticStyle:{float:"left"},attrs:{type:"submit",variant:"primary"},on:{click:t.saveUserProfile}},[t._v("Save")]),r("router-link",{staticClass:"text-primary",staticStyle:{float:"right"},attrs:{to:"/passwordChange"}},[t._v("Change password here")])],1)],1)],1)],1)},ue=[],le=m.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",m.a.stopTimer),t.addEventListener("mouseleave",m.a.resumeTimer)}}),de={name:"UserProfile",data:function(){return{input:{firstname:null,lastname:null,email:null,address:null}}},computed:{getUser:function(){return this.$store.getters.getUser},userLoggedIn:function(){return this.$store.getters.isLoggedIn},getFirstname:function(){return this.input.firstname},getLastname:function(){return this.input.lastname},getEmail:function(){return this.input.email},getAddress:function(){return this.input.address}},methods:{fetchUserProfile:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=rt.collection("users").doc(t.getUser.email),e.next=3,r.get();case 3:n=e.sent,n.exists&&(t.input=n.data());case 5:case"end":return e.stop()}}),e)})))()},saveUserProfile:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Start updating profile in DB"),e.next=3,rt.collection("users").doc(t.getUser.email);case 3:return r=e.sent,r.update({firstname:t.input.firstname,lastname:t.input.lastname,email:t.input.email,address:t.input.address}),console.log("End updating profile in DB",r),console.log("Start updating credentials"),e.next=9,d["a"].auth().currentUser;case 9:n=e.sent,n.updateEmail(t.input.email),n.updateProfile({displayName:t.input.firstname+" "+t.input.lastname}),console.log("End updating credentials"),le.fire({icon:"success",title:"Profile updated"});case 14:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.fetchUserProfile()}},pe=de,me=Object(h["a"])(pe,ce,ue,!1,null,null,null),fe=me.exports,ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[r("div",{staticClass:"card mb-3 p-8 w-50",staticStyle:{border:"none"}},[r("h5",{staticClass:"card-header text-center mt-4"},[t._v("Password Change")]),r("form",[r("div",{staticClass:"form-group d-flex flex-column mt-4 align-items-center justify-content-center"},[r("div",{staticClass:"d-block-flex"},[r("label",{attrs:{for:"inputAddress"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"form-control",attrs:{type:"password",pattern:"[\\dA-Za-z]{6,}",id:"inputPassword",placeholder:"Password",value:"input.password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}})]),r("div",{staticClass:"d-block-flex mt-2"},[r("label",{attrs:{for:"inputAddress"}},[t._v("New Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input.newPassword,expression:"input.newPassword"}],staticClass:"form-control",attrs:{type:"password",pattern:"[\\dA-Za-z]{6,}",id:"inputPasswordConfirm",placeholder:"New Password",value:"input.newPassword"},domProps:{value:t.input.newPassword},on:{input:function(e){e.target.composing||t.$set(t.input,"newPassword",e.target.value)}}})]),r("button",{staticClass:"btn btn-primary mt-4 shadow-none",attrs:{type:"success"},on:{click:t.updatePassword}},[t._v(" Save ")])])])])])},ve=[],he=m.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",m.a.stopTimer),t.addEventListener("mouseleave",m.a.resumeTimer)}}),be={name:"PasswordChange",data:function(){return{input:{password:null,newPassword:null}}},methods:{userReauthentication:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].auth().currentUser;case 2:return r=e.sent,n=r.email,e.prev=4,e.next=7,d["a"].auth().signInWithEmailAndPassword(n,t.input.password);case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e["catch"](4),he.fire({icon:"error",title:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))()},updatePassword:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.userReauthentication();case 2:return r=e.sent,n=r.user,a=d["a"].auth.EmailAuthProvider.credential(n.email,t.input.password),n.reauthenticateWithCredential(a),e.next=8,d["a"].auth().currentUser;case 8:return n=e.sent,e.next=11,n.updatePassword(t.input.newPassword).then((function(){he.fire({icon:"success",title:"Password updated!",showConfirmButton:!1}),t.$router.replace({path:"/userProfile"})})).catch((function(t){he.fire({icon:"error",title:t})}));case 11:case"end":return e.stop()}}),e)})))()}}},we=be,xe=Object(h["a"])(we,ge,ve,!1,null,null,null),Ce=xe.exports,_e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[r("div",{staticClass:"d-flex justify-content-center p-2"},[r("b-card",{ref:"payment",staticClass:"w-75",attrs:{header:"ORDERS STATUS","header-tag":"header"}},[r("b-col",{staticClass:"d-inline-flex"},[r("p",[t._v("Order #"+t._s(t.userOrder.orderNumber))]),r("p",{staticClass:"ml-auto"},[t._v("Total "),r("em",[t._v("(VAT included)")]),t._v(": R"+t._s(t.userOrder.total))])]),t._l(t.userOrder.productsPerOrder,(function(t,e){return r("div",{key:e,staticClass:"col-md col-sm",staticStyle:{border:"none"}},[r("Order",{attrs:{product:t}})],1)})),r("div",[r("b-button",{staticClass:"float-left shadow-none",attrs:{to:"/ordersRecord"}},[t._v("Back")]),r("label",{staticClass:"text-success float-right"},[r("strong",[t._v("PAYMENT SUCCESSFUL")])])],1)],2)],1)])},ye=[],Pe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{staticClass:"overflow-hidden",staticStyle:{border:"none"},attrs:{"no-body":""}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{attrs:{md:"2"}},[r("b-card-img",{staticClass:"rounded-0",attrs:{src:t.product.image,alt:"Image"}})],1),r("b-col",{attrs:{md:"10"}},[r("b-card-body",{staticClass:"text-start",attrs:{title:t.product.title}},[r("b-col",{staticClass:"d-inline-flex"},[r("p",[t._v("R"+t._s(t.product.price))]),r("p",{staticClass:"ml-auto"},[t._v("Qty: "+t._s(t.product.quantity))])])],1)],1)],1)],1)},ke=[],Oe={name:"Order",props:{product:Object}},Re=Oe,je=Object(h["a"])(Re,Pe,ke,!1,null,null,null),Le=je.exports,$e={components:{Order:Le},data:function(){return{userOrder:{},orderNum:""}},computed:{userLoggedIn:function(){return this.$store.getters.isLoggedIn},getUser:function(){return this.$store.getters.getUser}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.orderNum=t.$route.params.orderNumber,console.log("Order:",t.orderNum),e.next=4,dt(t.orderNum);case 4:t.userOrder=e.sent;case 5:case"end":return e.stop()}}),e)})))()},methods:{}},Se=$e,Ee=Object(h["a"])(Se,_e,ye,!1,null,null,null),Ie=Ee.exports,Te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{staticClass:"d-block-flex",attrs:{cols:"3"}},[r("b-col",{staticClass:"align-items-center mb-4"},[r("b-img",{attrs:{src:"https://icons-for-free.com/iconfiles/png/512/avatar+human+man+profile+icon-1320085876716628234.png","fluid-grow":"",alt:"Responsive image"}})],1),r("nav",{staticClass:"mb-3"},[r("b-nav",{attrs:{vertical:""}},[r("b-nav-item",{attrs:{to:"/userProfile"}},[t._v("Profile Details")]),r("br"),r("b-nav-item",{attrs:{to:"/ordersRecord"}},[t._v("Orders")])],1)],1)],1),r("b-col",{attrs:{cols:"9"}},[r("b-card",{ref:"orders",staticClass:"text-center w-100",attrs:{header:"ORDERS","header-tag":"header"}},t._l(t.orders,(function(t,e){return r("div",{key:e,staticClass:"col-md col-sm",staticStyle:{border:"none"}},[r("Orders",{attrs:{order:t}})],1)})),0)],1)],1)},Ue=[],Ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{fluid:"xl"}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{staticClass:"d-block-flex",attrs:{md:"6"}},[r("div",{staticClass:"mr-auto"},[r("p",{staticClass:"card-text",attrs:{variant:"bg-transparent text-dark"}},[t._v(" Order #"+t._s(t.order.orderNumber)+" ")])]),r("div",{staticClass:"mr-auto"},[r("p",{staticClass:"card-text",attrs:{variant:"bg-transparent text-dark"}},[t._v(" Total: R"+t._s(t.order.total)+" ")])]),r("div",{staticClass:"mr-auto"},[r("p",{staticClass:"card-text",attrs:{variant:"bg-transparent text-dark"}},[t._v(" Date: "+t._s(t.order.date)+" ")])])]),r("b-col",{staticClass:"d-block-flex",attrs:{md:"6"}},[r("router-link",{attrs:{to:{name:"Payment",params:{orderNumber:t.order.orderNumber}}}},[t._v("View Products")]),r("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.click.blur",value:"Content",expression:"'Content'",modifiers:{click:!0,blur:!0}}],attrs:{title:"Products",variant:"primary"}},[t._v("Click")])],1)],1)],1)},Ae=[],ze={name:"Orders",props:{order:Object}},Be=ze,He=Object(h["a"])(Be,Ne,Ae,!1,null,null,null),Ze=He.exports,Me={name:"UserProfile",components:{Orders:Ze},data:function(){return{orders:[]}},computed:{getUser:function(){return this.$store.getters.getUser},userLoggedIn:function(){return this.$store.getters.isLoggedIn},getOrders:function(){return this.$store.getters.getOrders}},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,lt();case 2:t.orders=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},De=Me,Fe=Object(h["a"])(De,Te,Ue,!1,null,null,null),qe=Fe.exports;n["default"].use(U["a"]);var We=new U["a"]({mode:"hash",routes:[{path:"/",name:"Home",component:At},{path:"/products",name:"ProductList",component:vt},{path:"/cart",name:"CartList",component:St},{path:"/about",name:"About",component:Mt},{path:"/contact",name:"Contact",component:Qt},{path:"/login",name:"Login",component:te},{path:"/register",name:"Register",component:oe},{path:"/userProfile",name:"UserProfile",component:fe},{path:"/passwordChange",name:"PasswordChange",component:Ce},{path:"/payment/:orderNumber",name:"Payment",component:Ie},{path:"/ordersRecord",name:"OrdersRecord",component:qe}]}),Qe=r("4776"),Ge=r.n(Qe),Ve=(r("b15b"),r("f9e3"),r("2dd8"),r("b1e0"));n["default"].use(I["a"]),n["default"].use(Ve["a"]),n["default"].use(T["a"]),n["default"].use(Ge.a),n["default"].config.productionTip=!1,new n["default"]({router:We,store:tt,db:rt,render:function(t){return t(E)}}).$mount("#app")},6:function(t,e){},7:function(t,e){},"74b6":function(t,e,r){"use strict";r("97a8")},8:function(t,e){},"85ec":function(t,e,r){},9:function(t,e){},"938d":function(t,e,r){},"97a8":function(t,e,r){},"98a8":function(t,e,r){"use strict";r("1c65")},e72f:function(t,e,r){"use strict";r("938d")},fa34:function(t,e,r){}});
//# sourceMappingURL=app.c1142503.js.map